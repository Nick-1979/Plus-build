(()=>{var n,e,t,i,r={69314:()=>{},18983:()=>{},11377:(n,e,t)=>{"use strict";var i=t(94158),r=t(6424),o=t(48801);new(t.n(o)())(6);const l={info:{display:null,legal:null,web:null,email:null,twitter:null}};var a=t(36631),u=t(60576),s=t(38090);const d=(0,t(45951).Rf)(((n,e)=>e||n)),c=(0,a.Z)((async function(n){var e,t;if(!n)return;const i=null!==(e=null==n||null===(t=n.name)||void 0===t?void 0:t.replace(" Relay Chain",""))&&void 0!==e?e:n,r=d.filter((e=>{return t=e,(null===(r=String(t.text))||void 0===r?void 0:r.toLowerCase())===(null==i?void 0:i.toLowerCase())||t.genesisHash===n;var t,r})),o=r[r.length>2?1:0],l=new u.U(null==o?void 0:o.value),a=await s.G.create({provider:l});return{api:a,chainName:String(null==o?void 0:o.text),coin:a.registry.chainTokens[0],decimals:a.registry.chainDecimals[0],genesisHash:null==o?void 0:o.genesisHash,url:null==o?void 0:o.value}}));onmessage=n=>{const{chain:e}=n.data;(async function(n){var e;console.log("getting crowdloans ...");const{api:t}=await c(n),o=(await t.query.paras.paraLifecycles.entries()).map((([n,e])=>n.args[0])),[a,u,s,d,f]=await Promise.all([t.query.auctions.auctionInfo(),t.query.auctions.auctionCounter(),t.query.crowdloan.funds.multi(o),t.query.slots.leases.multi(o),t.rpc.chain.getHeader()]),p=a.isSome?JSON.parse(a.toString()):null,v=p?p[1]:null,g=Number(null!==(e=null==f?void 0:f.number)&&void 0!==e?e:0),w=v&&g?g-v+1:0,m=[];d.forEach(((n,e)=>{n.length&&m.push(o[e].toString())}));const y=s.map(((n,e)=>{if(n.toString()){const t=JSON.parse(n.toString());return t.raised=(0,r.m)(t.raised).toString(),t.cap=(0,r.m)(t.cap).toString(),t.deposit=t.deposit.toString(),t.paraId=String(o[e]),t.hasLeased=m.includes(t.paraId),t}return null})).filter((n=>n)),h=y.map((n=>n.depositor)),b=await async function(n,e){console.log(`getting identities of .... on ${n}`);const{api:t}=await c(n);return(await t.query.identity.identityOf.multi(e)).map((n=>{var e,t,r,o,a,u,s,d,c,f,p,v,g,w,m,y,h,b,S,O;if(!n.toString())return l;const j=JSON.parse(n.toString());return{info:{display:(null==j||null===(e=j.info)||void 0===e||null===(t=e.display)||void 0===t?void 0:t.raw)&&(0,i.r)(null==j||null===(r=j.info)||void 0===r||null===(o=r.display)||void 0===o?void 0:o.raw),legal:(null==j||null===(a=j.info)||void 0===a||null===(u=a.legal)||void 0===u?void 0:u.raw)&&(0,i.r)(null==j||null===(s=j.info)||void 0===s||null===(d=s.legal)||void 0===d?void 0:d.raw),web:(null==j||null===(c=j.info)||void 0===c||null===(f=c.web)||void 0===f?void 0:f.raw)&&(0,i.r)(null==j||null===(p=j.info)||void 0===p||null===(v=p.web)||void 0===v?void 0:v.raw),email:(null==j||null===(g=j.info)||void 0===g||null===(w=g.email)||void 0===w?void 0:w.raw)&&(0,i.r)(null==j||null===(m=j.info)||void 0===m||null===(y=m.email)||void 0===y?void 0:y.raw),twitter:(null==j||null===(h=j.info)||void 0===h||null===(b=h.twitter)||void 0===b?void 0:b.raw)&&(0,i.r)(null==j||null===(S=j.info)||void 0===S||null===(O=S.twitter)||void 0===O?void 0:O.raw)}}}))}(n,h),S=y.map(((n,e)=>({fund:n,identity:b[e]}))),O=w>1?await t.query.auctions.winning(w):void 0;return console.log("winning :",null!=O&&O.toString()?Array.from(O.toHuman()):""),{auctionCounter:Number(u),auctionInfo:a.toString()?JSON.parse(a.toString()):null,blockchain:n,crowdloans:S,currentBlockNumber:Number(String(f.number)),minContribution:t.consts.crowdloan.minContribution.toString(),winning:[]}})(e).then((n=>{postMessage(n)}))}}},o={};function l(n){var e=o[n];if(void 0!==e)return e.exports;var t=o[n]={id:n,loaded:!1,exports:{}};return r[n].call(t.exports,t,t.exports,l),t.loaded=!0,t.exports}l.m=r,l.x=()=>{var n=l.O(void 0,[593,371],(()=>l(11377)));return l.O(n)},n=[],l.O=(e,t,i,r)=>{if(!t){var o=1/0;for(d=0;d<n.length;d++){for(var[t,i,r]=n[d],a=!0,u=0;u<t.length;u++)(!1&r||o>=r)&&Object.keys(l.O).every((n=>l.O[n](t[u])))?t.splice(u--,1):(a=!1,r<o&&(o=r));if(a){n.splice(d--,1);var s=i();void 0!==s&&(e=s)}}return e}r=r||0;for(var d=n.length;d>0&&n[d-1][2]>r;d--)n[d]=n[d-1];n[d]=[t,i,r]},l.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return l.d(e,{a:e}),e},t=Object.getPrototypeOf?n=>Object.getPrototypeOf(n):n=>n.__proto__,l.t=function(n,i){if(1&i&&(n=this(n)),8&i)return n;if("object"==typeof n&&n){if(4&i&&n.__esModule)return n;if(16&i&&"function"==typeof n.then)return n}var r=Object.create(null);l.r(r);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&n;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>n[e]));return o.default=()=>n,l.d(r,o),r},l.d=(n,e)=>{for(var t in e)l.o(e,t)&&!l.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})},l.f={},l.e=n=>Promise.all(Object.keys(l.f).reduce(((e,t)=>(l.f[t](n,e),e)),[])),l.u=n=>n+".js",l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),l.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),l.r=n=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},l.nmd=n=>(n.paths=[],n.children||(n.children=[]),n),(()=>{var n;l.g.importScripts&&(n=l.g.location+"");var e=l.g.document;if(!n&&e&&(e.currentScript&&(n=e.currentScript.src),!n)){var t=e.getElementsByTagName("script");t.length&&(n=t[t.length-1].src)}if(!n)throw new Error("Automatic publicPath is not supported in this browser");n=n.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),l.p=n})(),(()=>{var n={474:1};l.f.i=(e,t)=>{n[e]||importScripts(l.p+l.u(e))};var e=("undefined"!=typeof self?self:this).webpackChunk_polkadot_extension=("undefined"!=typeof self?self:this).webpackChunk_polkadot_extension||[],t=e.push.bind(e);e.push=e=>{var[i,r,o]=e;for(var a in r)l.o(r,a)&&(l.m[a]=r[a]);for(o&&o(l);i.length;)n[i.pop()]=1;t(e)}})(),i=l.x,l.x=()=>Promise.all([l.e(593),l.e(371)]).then(i),l.x()})();